{% extends "layout.html" %}

{% block title %} <title>Register</title>{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-black px-4 py-8 mt-100px">
  <div class="w-full max-w-md bg-gray-900 p-10 rounded-2xl shadow-2xl border border-gray-800">
    
    <!-- Header -->
    <div class="text-center mb-8">
      <h2 class="text-3xl font-bold text-white mb-2">
        Register your account
      </h2>
      <p class="text-gray-400 text-sm">
        Join us today - it's quick and easy
      </p>
    </div>

    <!-- Display form errors if any -->
    {% if form.non_field_errors %}
      <div class="bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg mb-6 text-sm">
        {{ form.non_field_errors }}
      </div>
    {% endif %}

    <form method="post" class="space-y-5">
      {% csrf_token %}

      <!-- Username Field -->
      <div>
        <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-300 mb-2">Username</label>
        <input
          type="text"
          name="{{ form.username.name }}"
          id="{{ form.username.id_for_label }}"
          class="w-full pl-4 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
          placeholder="Choose a username"
          {% if form.username.value %}value="{{ form.username.value }}"{% endif %}
          required
        >
        {% if form.username.errors %}
          <p class="mt-2 text-sm text-red-400">{{ form.username.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Email Field -->
      <div>
        <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-300 mb-2">Email</label>
        <input
          type="email"
          name="{{ form.email.name }}"
          id="{{ form.email.id_for_label }}"
          class="w-full pl-4 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
          placeholder="your.email@example.com"
          {% if form.email.value %}value="{{ form.email.value }}"{% endif %}
          required
        >
        {% if form.email.errors %}
          <p class="mt-2 text-sm text-red-400">{{ form.email.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Password Field -->
      <div>
        <label for="{{ form.password1.id_for_label }}" class="block text-sm font-medium text-gray-300 mb-2">Password</label>
        <input
          type="password"
          name="{{ form.password1.name }}"
          id="{{ form.password1.id_for_label }}"
          class="w-full pl-4 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
          placeholder="Create a strong password"
          required
        >
        {% if form.password1.errors %}
          <p class="mt-2 text-sm text-red-400">{{ form.password1.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Password Confirmation Field -->
      <div>
        <label for="{{ form.password2.id_for_label }}" class="block text-sm font-medium text-gray-300 mb-2">Confirm Password</label>
        <input
          type="password"
          name="{{ form.password2.name }}"
          id="{{ form.password2.id_for_label }}"
          class="w-full pl-4 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
          placeholder="Re-enter your password"
          required
        >
        {% if form.password2.errors %}
          <p class="mt-2 text-sm text-red-400">{{ form.password2.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Role Field -->
      <div>
        <label for="role" class="block text-sm font-medium text-gray-300 mb-2">Select Role</label>
        <select
          name="role"
          id="role"
          class="w-full pl-4 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"
          required
        >
          <option value="">Choose your role</option>
          <option value="admin">Admin</option>
          <option value="owner">Owner</option>
          <option value="tenant">Tenant</option>
        </select>
      </div>

      <!-- Register Button -->
      <button
        type="submit"
        class="w-full bg-linear-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-3 rounded-lg transition duration-200 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-blue-500/30 mt-6"
      >
        Create Account
      </button>
    </form>

     <p class="text-center text-gray-400 text-sm mt-6">
      Already have an account? 
      <a href="{% url 'login' %}" class="text-blue-500 hover:text-blue-400 font-semibold transition duration-200">
        login here
      </a>
    </p> 
  </div>
</div>
{% endblock %}
